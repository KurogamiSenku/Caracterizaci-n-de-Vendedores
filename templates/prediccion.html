<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predicción - Vendedores Informales Chía</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="static/images/ESCUDO-COLOR-H.png" alt="">
                <span class="ms-2">Proyecto Vendedores Chía</span>
            </a>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="/">Inicio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/datos">Datos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/prediccion">Predicción</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/graficas">Gráficas</a>
                </li>
                 <li class="nav-item">
                        <a class="nav-link" href="/referencias">Referencias</a>
                    </li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <section id="prediction-section" class="section-wrapper">
            <div class="container">
                <div class="section-title text-center mb-5">
                    <h2>Predicción del Perfil del Vendedor</h2>
                    <p>
                        Ingrese las características del vendedor para predecir su perfil.
                    </p>
                </div>
                <form id="prediction-form" class="form-wrapper">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="mes-radicacion">Mes de Radicación:</label>
                                <input type="number" id="mes-radicacion" name="mes-radicacion" class="form-control" required placeholder="Ej: 1, 2, 12">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="genero">Género:</label>
                                <select id="genero" name="genero" class="form-control" required>
                                    <option value="">Seleccione...</option>
                                    <option value="Masculino">Masculino</option>
                                    <option value="Femenino">Femenino</option>
                                    <option value="Otro">Otro</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="edad">Edad:</label>
                                <input type="number" id="edad" name="edad" class="form-control" required placeholder="Ej: 25, 30, 40">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="adulto-mayor">Adulto Mayor:</label>
                                <select id="adulto-mayor" name="adulto-mayor" class="form-control" required>
                                    <option value="">Seleccione...</option>
                                    <option value="Si">Sí</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="nacionalidad">Nacionalidad:</label>
                                <input type="text" id="nacionalidad" name="nacionalidad" class="form-control" required placeholder="Ej: Colombia, Venezuela, Ecuador">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="producto-venta">Producto que Vende:</label>
                                <input type="text" id="producto-venta" name="producto-venta" class="form-control" required placeholder="Ej: Comida, Artesanía, Ropa">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="detalle-producto">Detalle del Producto:</label>
                                <input type="text" id="detalle-producto" name="detalle-producto" class="form-control" required placeholder="Ej: Arepas, Collares, Camisetas">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="discapacidad">Persona en Discapacidad:</label>
                                <select id="discapacidad" name="discapacidad" class="form-control" required>
                                    <option value="">Seleccione...</option>
                                    <option value="Si">Sí</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="victima-conflicto">Víctima Conflicto Armado:</label>
                                <select id="victima-conflicto" name="victima-conflicto" class="form-control" required>
                                    <option value="">Seleccione...</option>
                                    <option value="Si">Sí</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="resguardo-indigena">Resguardo Indígena:</label>
                                <select id="resguardo-indigena" name="resguardo-indigena" class="form-control" required>
                                    <option value="">Seleccione...</option>
                                    <option value="Si">Sí</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="identificado-lgbtiq">Identificado LGBTIQ+:</label>
                                <select id="identificado-lgbtiq" name="identificado-lgbtiq" class="form-control" required>
                                    <option value="">Seleccione...</option>
                                    <option value="Si">Sí</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="pertenece-asociacion">Pertenece a Alguna Asociación:</label>
                                <select id="pertenece-asociacion" name="pertenece-asociacion" class="form-control" required>
                                    <option value="">Seleccione...</option>
                                    <option value="Si">Sí</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Predecir Perfil</button>
                </form>
                <div id="prediction-results" class="mt-4" style="display: none;">
                    <h3>Resultados de la Predicción:</h3>
                    <div id="resultado-exitoso" style="display: none;">
                        <p><strong>Perfil Predicho:</strong> <span id="perfil-predicho"></span></p>
                        <p><strong>Descripción:</strong> <span id="descripcion-perfil"></span></p>
                    </div>
                    <div id="resultado-fallido" style="display: none;">
                        <p>No se pudo predecir el perfil. Por favor, revise los datos ingresados.</p>
                    </div>
                </div>
            </div>
        </section>        
    </main>

    <footer class="bg-light text-center py-4 mt-5">
        <p class="text-muted">
            Proyecto desarrollado por Jennifer Andrea Espitia Porras y Nicolas Gutiérrez Reyes. Universidad de Cundinamarca - 2025.
        </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById('prediction-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const formData = new FormData(this);
            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });

            // Aquí se simula una respuesta del servidor.  En un proyecto real, enviarías esto a tu servidor Django.
            setTimeout(() => {
                const resultadoExitoso = document.getElementById('resultado-exitoso');
                const resultadoFallido = document.getElementById('resultado-fallido');
                const predictionResults = document.getElementById('prediction-results');


                // Simula una predicción exitosa el 80% de las veces.
                if (Math.random() < 0.8) {
                    resultadoExitoso.textContent = `Condición Predicha: Estable.  Probabilidad de formalización: 65%.`;
                    resultadoExitoso.style.display = 'block';
                    resultadoFallido.style.display = 'none';
                } else {
                    resultadoFallido.textContent = 'Condición Predicha: Inestable.  Se recomienda buscar apoyo.';
                    resultadoFallido.style.display = 'block';
                    resultadoExitoso.style.display = 'none';
                }
                predictionResults.style.display = 'block';
            }, 1500); // Simula un retraso de 1.5 segundos para obtener la respuesta.
        });
    </script>
</body>
</html>
